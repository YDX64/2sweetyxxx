<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2sweety - Staging OrtamÄ± Ekleme Rehberi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .content {
            padding: 40px;
        }

        .current-status {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .step {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 6px solid #00b894;
        }

        .step h3 {
            color: #00b894;
            margin-bottom: 15px;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            overflow-x: auto;
            line-height: 1.6;
        }

        .warning {
            background: linear-gradient(135deg, #ff7675 0%, #d63031 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .info {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .success {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .checklist {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #00b894;
        }

        .checklist li {
            margin: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .checklist li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #00b894;
            font-weight: bold;
            font-size: 1.2em;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .tab.active {
            background: #667eea;
            color: white;
        }

        .tab-content {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 10px;
            margin: 10px 0;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .content { padding: 20px; }
            .tabs { flex-direction: column; }
            .tab { min-width: auto; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ 2sweety Staging OrtamÄ± Ekleme</h1>
            <p>Mevcut production sistemine development/staging ortamÄ± ekliyoruz</p>
        </div>

        <div class="content">
            <div class="current-status">
                <h2>ğŸ“Š Mevcut Durum</h2>
                <ul style="margin: 15px 0; padding-left: 20px; font-size: 1.1em;">
                    <li><strong>âœ… Production:</strong> 2sweety.com Ã§alÄ±ÅŸÄ±yor</li>
                    <li><strong>âœ… Coolify:</strong> Kurulu ve aktif</li>
                    <li><strong>âœ… GitHub:</strong> BaÄŸlÄ± ve deploy ediyor</li>
                    <li><strong>âœ… Supabase:</strong> Production veritabanÄ± aktif</li>
                    <li><strong>âœ… Stripe:</strong> Live payments Ã§alÄ±ÅŸÄ±yor</li>
                    <li><strong>âŒ Staging:</strong> Yok - EkleyeceÄŸiz!</li>
                </ul>
            </div>

            <div class="warning">
                <h2>âš ï¸ Ã–NEMLÄ°: Production'a Dokunmuyoruz!</h2>
                <p>Mevcut production sisteminiz Ã§alÄ±ÅŸmaya devam edecek. Sadece yeni staging ortamÄ± ekliyoruz.</p>
            </div>

            <div class="step">
                <h3>1ï¸âƒ£ SSH ile Sunucuya BaÄŸlan</h3>
                <p>Mevcut sunucunuza baÄŸlanÄ±n:</p>
                <div class="code-block">
ssh root@45.9.190.79
# veya
ssh devops@45.9.190.79
                </div>
                <div class="info">
                    <strong>Kontrol:</strong> <code>docker ps</code> komutu ile Coolify'Ä±n Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± doÄŸrulayÄ±n.
                </div>
            </div>

            <div class="step">
                <h3>2ï¸âƒ£ Development Branch OluÅŸtur</h3>
                <p>GitHub'da yeni development branch oluÅŸturalÄ±m:</p>

                <div class="tabs">
                    <button class="tab active" onclick="showTab(event, 'github-web')">ğŸŒ GitHub Web</button>
                    <button class="tab" onclick="showTab(event, 'git-cli')">ğŸ’» Git CLI</button>
                </div>

                <div id="github-web" class="tab-content active">
                    <h4>GitHub Web Interface</h4>
                    <ol style="margin: 15px 0; padding-left: 20px;">
                        <li>GitHub â†’ 2sweety repository</li>
                        <li>Branch dropdown â†’ "Create branch: development"</li>
                        <li>From: main</li>
                        <li>Create branch</li>
                    </ol>
                </div>

                <div id="git-cli" class="tab-content">
                    <h4>Git Command Line</h4>
                    <div class="code-block">
# Lokal olarak
git checkout main
git pull origin main
git checkout -b development
git push -u origin development
                    </div>
                </div>
            </div>

            <div class="step">
                <h3>3ï¸âƒ£ Supabase Development Projesi</h3>
                <p>Yeni Supabase projesi oluÅŸturun:</p>
                
                <ol style="margin: 15px 0; padding-left: 20px;">
                    <li><strong>Supabase Dashboard</strong> â†’ New Project</li>
                    <li><strong>Name:</strong> 2sweety-development</li>
                    <li><strong>Region:</strong> Production ile aynÄ± seÃ§in</li>
                    <li><strong>Plan:</strong> Free tier (yeterli)</li>
                </ol>

                <div class="info">
                    <h4>ğŸ“‹ Proje OluÅŸtuktan Sonra:</h4>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>Project URL ve anon key'i kopyalayÄ±n</li>
                        <li>SQL Editor'da production schema'yÄ± import edin</li>
                        <li>Auth Settings'e dev.2sweety.com ekleyin</li>
                    </ul>
                </div>

                <div class="code-block">
-- Production'dan schema export etmek iÃ§in:
-- Supabase Dashboard â†’ SQL Editor â†’ New Query

-- TÃ¼m tablolarÄ± ve iliÅŸkileri export et
-- Sonra development projesinde Ã§alÄ±ÅŸtÄ±r
                </div>
            </div>

            <div class="step">
                <h3>4ï¸âƒ£ DNS KaydÄ± Ekle</h3>
                <p>Hostinger DNS panelinde:</p>
                
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: #f8f9fa; font-weight: bold;">
                        <td style="padding: 10px; border: 1px solid #ddd;">Tip</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">Ad</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">DeÄŸer</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">TTL</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;">A</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">dev</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">45.9.190.79</td>
                        <td style="padding: 10px; border: 1px solid #ddd;">300</td>
                    </tr>
                </table>

                <div class="success">
                    <strong>Test:</strong> 5-10 dakika sonra <code>ping dev.2sweety.com</code> ile kontrol edin.
                </div>
            </div>

            <div class="step">
                <h3>5ï¸âƒ£ Environment Variables HazÄ±rla</h3>
                <p>Development iÃ§in environment variables:</p>

                <div class="code-block">
# .env.development (GitHub'da saklanacak)
SUPABASE_URL=https://your-dev-project-id.supabase.co
SUPABASE_ANON_KEY=your-dev-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-dev-service-key

# Stripe Test Keys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Environment
NEXT_PUBLIC_ENV=development
NODE_ENV=development

# App URLs
NEXT_PUBLIC_APP_URL=https://dev.2sweety.com
NEXT_PUBLIC_API_URL=https://dev.2sweety.com/api
                </div>

                <div class="warning">
                    <strong>GÃ¼venlik:</strong> Bu dosyayÄ± GitHub'a eklemeden Ã¶nce .gitignore'a ekleyin veya GitHub Secrets kullanÄ±n.
                </div>
            </div>

            <div class="step">
                <h3>6ï¸âƒ£ Coolify'de Staging Application</h3>
                <p>Coolify dashboard'da yeni uygulama oluÅŸturun:</p>

                <ol style="margin: 15px 0; padding-left: 20px;">
                    <li><strong>Coolify Dashboard</strong> â†’ New Application</li>
                    <li><strong>Source:</strong> GitHub</li>
                    <li><strong>Repository:</strong> Mevcut 2sweety repo</li>
                    <li><strong>Branch:</strong> development</li>
                    <li><strong>Build Pack:</strong> Node.js / Next.js</li>
                    <li><strong>Domain:</strong> https://dev.2sweety.com</li>
                    <li><strong>Auto Deploy:</strong> ON</li>
                </ol>

                <div class="info">
                    <h4>Environment Variables Ekle:</h4>
                    <p>Coolify â†’ Application â†’ Environment sekmesinde yukarÄ±daki .env.development deÄŸerlerini ekleyin.</p>
                </div>
            </div>

            <div class="step">
                <h3>7ï¸âƒ£ Ä°lk Staging Deploy</h3>
                <p>Development branch'e ilk commit:</p>

                <div class="code-block">
# Development branch'e geÃ§
git checkout development

# KÃ¼Ã§Ã¼k bir deÄŸiÅŸiklik yap (test iÃ§in)
echo "# Development Environment" >> README-dev.md
git add README-dev.md
git commit -m "feat: add development environment setup"

# Push et - Coolify otomatik deploy edecek
git push origin development
                </div>

                <div class="success">
                    <strong>SonuÃ§:</strong> 2-3 dakika sonra https://dev.2sweety.com aÃ§Ä±lmalÄ±!
                </div>
            </div>

            <div class="step">
                <h3>8ï¸âƒ£ Stripe Test Webhook</h3>
                <p>Stripe Dashboard'da development iÃ§in webhook ekleyin:</p>

                <div class="code-block">
# Stripe Dashboard â†’ Webhooks â†’ Add endpoint
Endpoint URL: https://dev.2sweety.com/api/stripe/webhook
Events: payment_intent.succeeded, customer.subscription.created, vs.

# Test mode'da olduÄŸundan emin olun!
                </div>
            </div>

            <div class="step">
                <h3>9ï¸âƒ£ Development Workflow Test</h3>
                <p>ArtÄ±k hÄ±zlÄ± development cycle'Ä± test edin:</p>

                <div class="tabs">
                    <button class="tab active" onclick="showTab(event, 'cursor-workflow')">ğŸ’» Cursor</button>
                    <button class="tab" onclick="showTab(event, 'lovable-workflow')">â¤ï¸ Lovable</button>
                    <button class="tab" onclick="showTab(event, 'bolt-workflow')">âš¡ Bolt</button>
                </div>

                <div id="cursor-workflow" class="tab-content active">
                    <h4>Cursor Development</h4>
                    <div class="code-block">
# 1. Cursor'da projeyi aÃ§
# 2. development branch'e geÃ§
git checkout development

# 3. Yeni feature geliÅŸtir
# Ã–rnek: kullanÄ±cÄ± profil sayfasÄ± dÃ¼zenle

# 4. Commit & push
git add .
git commit -m "feat: improve user profile page"
git push origin development

# 5. 15-30 saniye sonra dev.2sweety.com'da canlÄ±!
                    </div>
                </div>

                <div id="lovable-workflow" class="tab-content">
                    <h4>Lovable Development</h4>
                    <div class="code-block">
# 1. Lovable'da projeyi import et
# Repository: 2sweety
# Branch: development

# 2. Lovable'da kod deÄŸiÅŸtir
# Instant preview gÃ¶r

# 3. Commit & push
# Lovable otomatik push edebilir

# 4. dev.2sweety.com'da production benzeri test!
                    </div>
                </div>

                <div id="bolt-workflow" class="tab-content">
                    <h4>Bolt AI Development</h4>
                    <div class="code-block">
# 1. Bolt'ta proje import et
# Branch: development

# 2. AI ile feature geliÅŸtir
"Add real-time chat feature"
"Improve matching algorithm"

# 3. AI kodu Ã¼rettikten sonra
# GitHub'a push et

# 4. dev.2sweety.com'da test et!
                    </div>
                </div>
            </div>

            <div class="step">
                <h3>ğŸ”Ÿ Production'a Ã‡Ä±karma SÃ¼reci</h3>
                <p>Staging'de test ettikten sonra production'a Ã§Ä±karma:</p>

                <div class="code-block">
# 1. Development'da feature tamamlandÄ± ve test edildi

# 2. Pull Request oluÅŸtur
# GitHub â†’ development â†’ main PR

# 3. Code review (isteÄŸe baÄŸlÄ±)

# 4. Merge et
# main branch'e merge

# 5. Production otomatik deploy
# Coolify production uygulamasÄ± otomatik Ã§alÄ±ÅŸacak
                </div>

                <div class="warning">
                    <strong>GÃ¼venlik:</strong> Main branch'i protected yapÄ±n. Sadece PR ile merge edilsin.
                </div>
            </div>

            <div class="success">
                <h2>ğŸ‰ Staging OrtamÄ± HazÄ±r!</h2>
                
                <div class="checklist">
                    <h3>âœ… Kontrol Listesi</h3>
                    <ul style="list-style: none;">
                        <li>Development branch oluÅŸturuldu</li>
                        <li>Supabase development projesi aktif</li>
                        <li>dev.2sweety.com DNS kaydÄ± eklendi</li>
                        <li>Coolify staging uygulamasÄ± Ã§alÄ±ÅŸÄ±yor</li>
                        <li>Environment variables ayarlandÄ±</li>
                        <li>Stripe test webhook eklendi</li>
                        <li>Ä°lk deploy baÅŸarÄ±lÄ±</li>
                        <li>Development workflow test edildi</li>
                    </ul>
                </div>

                <div style="text-align: center; margin: 30px 0; padding: 25px; background: rgba(255, 255, 255, 0.1); border-radius: 15px;">
                    <h3>ğŸš€ ArtÄ±k HÄ±zlÄ± Development!</h3>
                    <p style="font-size: 1.2em; margin: 15px 0;">
                        <strong>development branch</strong> â†’ push â†’ <strong>15-30 saniye</strong> â†’ <strong>dev.2sweety.com</strong><br>
                        Test et â†’ main'e merge â†’ <strong>2sweety.com</strong> production!
                    </p>
                </div>
            </div>

            <div class="info">
                <h2>ğŸ”„ GÃ¼nlÃ¼k Workflow</h2>
                <ol style="margin: 15px 0; padding-left: 20px;">
                    <li><strong>Sabah:</strong> Cursor'da feature geliÅŸtir â†’ development push</li>
                    <li><strong>Ã–ÄŸlen:</strong> dev.2sweety.com'da test et â†’ Stripe, Supabase kontrol</li>
                    <li><strong>AkÅŸam:</strong> Lovable/Bolt ile hÄ±zlÄ± prototyping</li>
                    <li><strong>Gece:</strong> Final test â†’ main'e merge â†’ production!</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        function showTab(event, tabName) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html> 